(()=>{var e={};e.id=1653,e.ids=[1653],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},2514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>h,routeModule:()=>d,serverHooks:()=>x,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>v});var a={};r.r(a),r.d(a,{GET:()=>g});var o=r(5122),n=r(7868),s=r(9769),i=r(1929);let c=require("fs");var u=r.n(c),l=r(5315),p=r.n(l);async function g(){try{console.log("Reading and organizing Naval Action data from local file...");let e=p().join(process.cwd(),"public","naval-action-data.json"),t=u().readFileSync(e,"utf8"),r=JSON.parse(t);console.log("Local data loaded, organizing...");let a=Array.isArray(r)?r:Object.values(r),o={categories:{},totalItems:a.length,items:a};return a.forEach((e,t)=>{if(!e||"object"!=typeof e)return;let r=e.ItemType||e.SortingGroup||e.ItemGroup||"Uncategorized";o.categories[r]||(o.categories[r]={name:r,count:0,subcategories:{},items:[]}),o.categories[r].count++,o.categories[r].items.push({index:t,name:e.Name||"Unnamed Item",type:e.ItemType,sortingGroup:e.SortingGroup,itemGroup:e.ItemGroup,maxStack:e.MaxStack,gold:e.Gold,labor:e.Labor,requirements:e.Requirements,results:e.Results,fullData:e});let a=e.SortingGroup||e.ItemGroup||"General";a!==r&&(o.categories[r].subcategories[a]||(o.categories[r].subcategories[a]={name:a,count:0,items:[]}),o.categories[r].subcategories[a].count++,o.categories[r].subcategories[a].items.push({index:t,name:e.Name||"Unnamed Item",fullData:e}))}),console.log(`Organized ${a.length} items into ${Object.keys(o.categories).length} categories`),i.NextResponse.json(o,{headers:{"Cache-Control":"public, max-age=3600","Content-Type":"application/json"}})}catch(t){console.error("Error organizing Naval Action data:",t);let e=t instanceof Error?t.message:"Unknown error occurred";return i.NextResponse.json({error:"Failed to organize Naval Action data",details:e},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/naval-action/route",pathname:"/api/naval-action",filename:"route",bundlePath:"app/api/naval-action/route"},resolvedPagePath:"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\api\\naval-action\\route.ts",nextConfigOutput:"standalone",userland:a}),{workAsyncStorage:m,workUnitAsyncStorage:v,serverHooks:x}=d;function h(){return(0,s.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:v})}},3245:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9769,4999],()=>r(2514));module.exports=a})();