(()=>{var e={};e.id=2429,e.ids=[2429],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},7824:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(329),a=r(7868),i=r(6041),n=r.n(i),l=r(9962),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["bugs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7447)),"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\bugs\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4064)),"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\bugs\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,154))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6560)),"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,6833)),"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,154))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\bugs\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/bugs/page",pathname:"/bugs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7747:(e,t,r)=>{Promise.resolve().then(r.bind(r,1613))},3245:()=>{},1613:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5697),a=r(6336),i=r(5717);let n={Low:"bg-gray-100 text-gray-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-orange-100 text-orange-800",Critical:"bg-red-100 text-red-800"},l={OPEN:"bg-green-100 text-green-800",IN_PROGRESS:"bg-blue-100 text-blue-800",RESOLVED:"bg-purple-100 text-purple-800",CLOSED:"bg-gray-100 text-gray-800"};function o(){let{data:e}=(0,i.kP)(),[t,r]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[h,y]=(0,a.useState)({title:"",description:"",severity:"Medium",reporterDiscordUsername:"",browser:"",reporterEmail:""}),v=async()=>{try{d(!0);let e=new URLSearchParams;m&&e.append("severity",m),x&&e.append("status",x);let t=await fetch(`/api/bug-reports?${e.toString()}`);if(!t.ok)throw Error("Failed to fetch bug reports");let s=await t.json();r(s.bugReports||[])}catch(e){u(e instanceof Error?e.message:"Failed to fetch bug reports")}finally{d(!1)}},j=async e=>{e.preventDefault();try{let e=await fetch("/api/bug-reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to submit bug report")}y({title:"",description:"",severity:"Medium",reporterDiscordUsername:"",browser:"",reporterEmail:""}),f(!1),v(),alert("Bug report submitted successfully!")}catch(e){alert(`Error: ${e instanceof Error?e.message:"Failed to submit bug report"}`)}},N=async(e,t)=>{try{if(!(await fetch("/api/bug-reports",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:t})})).ok)throw Error("Failed to update bug status");v()}catch(e){alert(`Error: ${e instanceof Error?e.message:"Failed to update bug status"}`)}};return(0,s.jsx)("div",{className:"bg-gradient-to-br from-ocean-dark via-ocean-medium to-ocean-light py-8 pt-20",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"neo-brutal-box bg-sail-white p-6 mb-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:"\uD83D\uDC1B Bug Reports"}),(0,s.jsx)("p",{className:"text-navy-dark/70 mt-2",style:{fontFamily:"Crimson Text, serif"},children:"Track and report issues with the KrakenGaming platform"})]}),e&&(0,s.jsx)("button",{onClick:()=>f(!b),className:"neo-brutal-button bg-brass text-navy-dark px-4 py-2 font-semibold transition-colors",style:{fontFamily:"Cinzel, serif"},children:b?"Cancel":"Submit Bug Report"})]})}),b&&(0,s.jsxs)("div",{className:"neo-brutal-box bg-sail-white p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:"Submit Bug Report"}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Title *"}),(0,s.jsx)("input",{type:"text",required:!0,value:h.title,onChange:e=>y(t=>({...t,title:e.target.value})),className:"w-full border-2 border-navy-dark rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brass",style:{fontFamily:"Crimson Text, serif"},placeholder:"Brief description of the bug"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Description *"}),(0,s.jsx)("textarea",{required:!0,rows:4,value:h.description,onChange:e=>y(t=>({...t,description:e.target.value})),className:"w-full border-2 border-navy-dark rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brass",style:{fontFamily:"Crimson Text, serif"},placeholder:"Detailed description of the issue, steps to reproduce, etc."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Severity"}),(0,s.jsxs)("select",{value:h.severity,onChange:e=>y(t=>({...t,severity:e.target.value})),className:"w-full border-2 border-navy-dark rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brass",style:{fontFamily:"Crimson Text, serif"},children:[(0,s.jsx)("option",{value:"Low",children:"Low"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"High",children:"High"}),(0,s.jsx)("option",{value:"Critical",children:"Critical"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Discord Username *"}),(0,s.jsx)("input",{type:"text",required:!0,value:h.reporterDiscordUsername,onChange:e=>y(t=>({...t,reporterDiscordUsername:e.target.value})),className:"w-full border-2 border-navy-dark rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brass",style:{fontFamily:"Crimson Text, serif"},placeholder:"Your Discord username"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Browser/Environment"}),(0,s.jsx)("input",{type:"text",value:h.browser,onChange:e=>y(t=>({...t,browser:e.target.value})),className:"w-full border-2 border-navy-dark rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brass",style:{fontFamily:"Crimson Text, serif"},placeholder:"Chrome 120, Firefox 115, etc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Email (Optional)"}),(0,s.jsx)("input",{type:"email",value:h.reporterEmail,onChange:e=>y(t=>({...t,reporterEmail:e.target.value})),className:"w-full border-2 border-navy-dark rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brass",style:{fontFamily:"Crimson Text, serif"},placeholder:"your.email@example.com"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"submit",className:"neo-brutal-button bg-brass text-navy-dark px-6 py-2 font-semibold transition-colors",style:{fontFamily:"Cinzel, serif"},children:"Submit Bug Report"}),(0,s.jsx)("button",{type:"button",onClick:()=>f(!1),className:"neo-brutal-button bg-cannon-smoke text-sail-white px-6 py-2 font-semibold transition-colors",style:{fontFamily:"Cinzel, serif"},children:"Cancel"})]})]})]}),(0,s.jsx)("div",{className:"neo-brutal-box bg-sail-white p-6 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Filter by Severity"}),(0,s.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"border-2 border-navy-dark rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brass",style:{fontFamily:"Crimson Text, serif"},children:[(0,s.jsx)("option",{value:"",children:"All Severities"}),(0,s.jsx)("option",{value:"Critical",children:"Critical"}),(0,s.jsx)("option",{value:"High",children:"High"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-dark mb-2",style:{fontFamily:"Cinzel, serif"},children:"Filter by Status"}),(0,s.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"All Statuses"}),(0,s.jsx)("option",{value:"OPEN",children:"Open"}),(0,s.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,s.jsx)("option",{value:"RESOLVED",children:"Resolved"}),(0,s.jsx)("option",{value:"CLOSED",children:"Closed"})]})]})]})}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Bug Reports (",t.length,")"]})}),o?(0,s.jsxs)("div",{className:"p-6 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading bug reports..."})]}):c?(0,s.jsxs)("div",{className:"p-6 text-center text-red-600",children:[(0,s.jsxs)("p",{children:["Error: ",c]}),(0,s.jsx)("button",{onClick:v,className:"mt-2 text-blue-600 hover:text-blue-800",children:"Try Again"})]}):0===t.length?(0,s.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,s.jsx)("p",{children:"No bug reports found."}),e&&(0,s.jsx)("button",{onClick:()=>f(!0),className:"mt-2 text-blue-600 hover:text-blue-800",children:"Submit the first bug report"})]}):(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:t.map(t=>(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n[t.severity]}`,children:t.severity}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l[t.status]||"bg-gray-100 text-gray-800"}`,children:t.status})]}),(0,s.jsx)("p",{className:"text-gray-600 mb-3",children:t.description}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:(0,s.jsxs)("p",{children:["Reported by: ",t.reporter?.username||"Anonymous"," • Created: ",new Date(t.createdAt).toLocaleDateString()," • Updated: ",new Date(t.updatedAt).toLocaleDateString()]})})]}),e&&(0,s.jsx)("div",{className:"ml-4",children:(0,s.jsxs)("select",{value:t.status,onChange:e=>N(t.id,e.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"OPEN",children:"Open"}),(0,s.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,s.jsx)("option",{value:"RESOLVED",children:"Resolved"}),(0,s.jsx)("option",{value:"CLOSED",children:"Closed"})]})})]})},t.id))})]})]})})}},4064:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a});var s=r(876);let a={title:"Bug Reports | KrakenGaming",description:"View and report bugs for KrakenGaming platform",keywords:"bug reports, issues, KrakenGaming, naval action, gaming"};function i({children:e}){return(0,s.jsx)(s.Fragment,{children:e})}},7447:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>e});var a=r(1909);let e=(await (0,a.createProxy)(String.raw`C:\Users\tijer\OneDrive\Documents\krakengaming\apps\frontend\src\app\bugs\page.tsx`)).default;s()}catch(e){s(e)}},1)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9769,869,3429],()=>r(7824));module.exports=s})();