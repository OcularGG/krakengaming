(()=>{var e={};e.id=3602,e.ids=[3602],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},89:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var a=t(329),l=t(7868),i=t(6041),n=t.n(i),r=t(9962),c={};for(let e in r)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>r[e]);t.d(s,c);let d=["",{children:["admin",{children:["applications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6749)),"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\admin\\applications\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,154))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,6560)),"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,6833)),"C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,154))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["C:\\Users\\tijer\\OneDrive\\Documents\\krakengaming\\apps\\frontend\\src\\app\\admin\\applications\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/admin/applications/page",pathname:"/admin/applications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3152:(e,s,t)=>{Promise.resolve().then(t.bind(t,5389))},5389:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(5697),l=t(6336),i=t(5717);let n={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",withdrawn:"bg-gray-100 text-gray-800 border-gray-200"};function r(){let{data:e}=(0,i.kP)(),[s,t]=(0,l.useState)([]),[n,r]=(0,l.useState)([]),[m,p]=(0,l.useState)(!0),[h,u]=(0,l.useState)(null),[j,v]=(0,l.useState)("all"),[b,g]=(0,l.useState)(!1),[N,f]=(0,l.useState)(!1),y=async()=>{try{let e=await fetch("/api/applications?admin=true"),s=await e.json();t(s.applications||[])}catch(e){console.error("Failed to fetch applications:",e)}finally{p(!1)}},w=async()=>{try{let e=await fetch("/api/applications/cooldowns"),s=await e.json();r(s.cooldowns||[])}catch(e){console.error("Failed to fetch cooldowns:",e)}},C=s.filter(e=>"all"===j||e.status===j);if(m)return(0,a.jsx)("div",{className:"bg-gradient-to-br from-ocean-dark via-ocean-medium to-ocean-light pt-20 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"neo-brutal-box bg-sail-white p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-brass mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-xl text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:"Loading applications..."})]})});return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-ocean-dark via-ocean-medium to-ocean-light pt-20",children:[(0,a.jsx)("div",{className:"neo-brutal-box bg-sail-white mx-4 mb-6",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:"⚓ Admiralty Applications"}),(0,a.jsx)("p",{className:"mt-2 text-navy-dark/70",style:{fontFamily:"Crimson Text, serif"},children:"Review and manage recruitment applications for His Majesty's Naval Service"})]}),(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsx)("button",{onClick:()=>y(),className:"neo-brutal-button bg-brass text-navy-dark px-4 py-2 font-semibold transition-colors",style:{fontFamily:"Cinzel, serif"},children:"Refresh"})})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-sail-white mb-2",style:{fontFamily:"Cinzel, serif"},children:"Filter by Status"}),(0,a.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"neo-brutal-input bg-sandstone-100 border border-navy-dark text-navy-dark px-3 py-2",style:{fontFamily:"Crimson Text, serif"},children:[(0,a.jsx)("option",{value:"all",children:"All Applications"}),(0,a.jsx)("option",{value:"pending",children:"Pending Review"}),(0,a.jsx)("option",{value:"approved",children:"Approved"}),(0,a.jsx)("option",{value:"rejected",children:"Rejected"}),(0,a.jsx)("option",{value:"withdrawn",children:"Withdrawn"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"neo-brutal-box bg-sandstone-200 p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:s.length}),(0,a.jsx)("div",{className:"text-sm text-navy-dark/70",style:{fontFamily:"Crimson Text, serif"},children:"Total"})]}),(0,a.jsxs)("div",{className:"neo-brutal-box bg-brass/20 p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:s.filter(e=>"pending"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-navy-dark/70",style:{fontFamily:"Crimson Text, serif"},children:"Pending"})]}),(0,a.jsxs)("div",{className:"neo-brutal-box bg-ocean-foam/30 p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:s.filter(e=>"approved"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-navy-dark/70",style:{fontFamily:"Crimson Text, serif"},children:"Approved"})]}),(0,a.jsxs)("div",{className:"neo-brutal-box bg-blood-red/20 p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-navy-dark",style:{fontFamily:"Cinzel, serif"},children:s.filter(e=>"rejected"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-navy-dark/70",style:{fontFamily:"Crimson Text, serif"},children:"Rejected"})]})]})]}),n.length>0&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"\uD83D\uDD52 Active Cooldowns"}),(0,a.jsx)("div",{className:"bg-slate-800 rounded-lg p-4",children:(0,a.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-700 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:e.discordUsername}),(0,a.jsxs)("span",{className:"text-slate-400 ml-2",children:["Can reapply: ",new Date(e.canReapplyAt||e.cooldownEndsAt).toLocaleDateString()]})]}),(0,a.jsx)("button",{onClick:()=>k(e.discordId),className:"bg-orange-600 hover:bg-orange-700 px-3 py-1 rounded text-sm transition-colors",children:"Override"})]},e.discordId))})})]}),(0,a.jsx)("div",{className:"space-y-4",children:0===C.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCB"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No applications found"}),(0,a.jsx)("p",{className:"text-slate-400",children:0===s.length?"No applications have been submitted yet.":"No applications match your current filters."})]}):C.map(e=>(0,a.jsx)(c,{application:e,onViewDetails:()=>u(e),onAddVouch:()=>{u(e),g(!0)},onReview:()=>{u(e),f(!0)},onRefresh:y},e.id))})]}),h&&!b&&!N&&(0,a.jsx)(d,{application:h,onClose:()=>u(null)}),b&&h&&(0,a.jsx)(o,{application:h,onClose:()=>{g(!1),u(null)},onSubmit:()=>{g(!1),u(null),y()}}),N&&h&&(0,a.jsx)(x,{application:h,onClose:()=>{f(!1),u(null)},onSubmit:()=>{f(!1),u(null),y(),w()}})]});async function k(e){if(confirm("Are you sure you want to override this cooldown? This will allow the user to reapply immediately."))try{(await fetch("/api/applications/cooldowns/override",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({discordId:e})})).ok?(w(),alert("Cooldown overridden successfully.")):alert("Failed to override cooldown.")}catch(e){console.error("Error overriding cooldown:",e),alert("Failed to override cooldown.")}}}function c({application:e,onViewDetails:s,onAddVouch:t,onReview:l,onRefresh:i}){let r=e.vouches?.filter(e=>"positive"===e.vouchType).length||0,c=e.vouches?.filter(e=>"negative"===e.vouchType).length||0;return(0,a.jsx)("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.captainName}),(0,a.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${n[e.status]}`,children:e.status.toUpperCase()}),e.discordChannelId&&(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Discord Channel Created"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Discord:"}),(0,a.jsx)("span",{className:"text-white ml-1",children:e.discordUsername})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Nation:"}),(0,a.jsx)("span",{className:"text-white ml-1",children:e.currentNation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Hours:"}),(0,a.jsx)("span",{className:"text-white ml-1",children:e.hoursInNavalAction})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Role:"}),(0,a.jsx)("span",{className:"text-white ml-1",children:e.preferredRole})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,a.jsxs)("span",{children:["Submitted: ",new Date(e.submittedAt).toLocaleDateString()]}),e.vouches&&e.vouches.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-green-400",children:["\uD83D\uDC4D ",r]}),(0,a.jsxs)("span",{className:"text-red-400",children:["\uD83D\uDC4E ",c]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:s,className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm transition-colors",children:"View Details"}),"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:t,className:"bg-purple-600 hover:bg-purple-700 px-3 py-1 rounded text-sm transition-colors",children:"Add Vouch"}),(0,a.jsx)("button",{onClick:l,className:"bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-sm transition-colors",children:"Review"})]})]})]})})}function d({application:e,onClose:s}){return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Application Details"}),(0,a.jsx)("button",{onClick:s,className:"text-slate-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Personal Information"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Captain Name:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.captainName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Preferred Nickname:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.preferredNickname||"None"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Current Nation:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.currentNation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Time Zone:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.timeZone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Discord:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.discordUsername})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Email:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.email||"Not provided"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Naval Experience"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Hours in Naval Action:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.hoursInNavalAction})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Steam Connected:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.steamConnected?"Yes":"No"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Current Rank:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.currentRank})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Preferred Role:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.preferredRole})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Port Battle Commander:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.isPortBattleCommander?"Yes":"No"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Is Crafter:"})," ",(0,a.jsx)("span",{className:"text-white",children:e.isCrafter?"Yes":"No"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Weekly Play Time:"})," ",(0,a.jsxs)("span",{className:"text-white",children:[e.weeklyPlayTime," hours"]})]})]})]})]}),e.previousCommands&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Previous Commands"}),(0,a.jsx)("p",{className:"text-slate-300 bg-slate-700 p-3 rounded",children:e.previousCommands})]}),e.commanderExperience&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Commander Experience"}),(0,a.jsx)("p",{className:"text-slate-300 bg-slate-700 p-3 rounded",children:e.commanderExperience})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Availability"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Port Battle Availability:"}),(0,a.jsx)("ul",{className:"text-white mt-1",children:e.portBattleAvailability.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Typical Schedule:"}),(0,a.jsx)("p",{className:"text-white mt-1 bg-slate-700 p-3 rounded",children:e.typicalSchedule})]})]})]}),e.vouches&&e.vouches.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Vouches"}),(0,a.jsx)("div",{className:"space-y-2",children:e.vouches.map(e=>(0,a.jsxs)("div",{className:"bg-slate-700 p-3 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"positive"===e.vouchType?"text-green-400":"text-red-400",children:"positive"===e.vouchType?"\uD83D\uDC4D":"\uD83D\uDC4E"}),(0,a.jsx)("span",{className:"text-white font-semibold",children:e.reviewerName}),(0,a.jsx)("span",{className:"text-slate-400 text-sm",children:new Date(e.createdAt).toLocaleDateString()})]}),e.comments&&(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:e.comments})]},e.id))})]})]})]})})}function o({application:e,onClose:s,onSubmit:t}){let[i,n]=(0,l.useState)("positive"),[r,c]=(0,l.useState)(""),[d,o]=(0,l.useState)(!1),x=async s=>{s.preventDefault(),o(!0);try{let s=await fetch("/api/applications/vouch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:e.id,vouchType:i,comments:r})});if(s.ok)t();else{let e=await s.json();alert(`Failed to submit vouch: ${e.error}`)}}catch(e){alert("Failed to submit vouch. Please try again."),console.error("Error submitting vouch:",e)}finally{o(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Add Vouch"}),(0,a.jsx)("button",{onClick:s,className:"text-slate-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("p",{className:"text-slate-300",children:["Adding vouch for: ",(0,a.jsx)("span",{className:"font-semibold text-white",children:e.captainName})]})}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Vouch Type"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"positive",checked:"positive"===i,onChange:e=>n(e.target.value),className:"mr-2"}),(0,a.jsx)("span",{className:"text-green-400",children:"\uD83D\uDC4D Positive"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"negative",checked:"negative"===i,onChange:e=>n(e.target.value),className:"mr-2"}),(0,a.jsx)("span",{className:"text-red-400",children:"\uD83D\uDC4E Negative"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Comments (Optional)"}),(0,a.jsx)("textarea",{rows:4,value:r,onChange:e=>c(e.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white",placeholder:"Additional comments about this applicant..."})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"flex-1 bg-slate-600 hover:bg-slate-700 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded-lg font-semibold transition-colors",children:d?"Submitting...":"Submit Vouch"})]})]})]})})}function x({application:e,onClose:s,onSubmit:t}){let[i,n]=(0,l.useState)("approved"),[r,c]=(0,l.useState)(""),[d,o]=(0,l.useState)(30),[x,m]=(0,l.useState)(!1),p=async s=>{s.preventDefault(),m(!0);try{let s=await fetch("/api/applications/review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:e.id,decision:i,reviewNotes:r,cooldownDays:"rejected"===i?d:void 0})});if(s.ok)t();else{let e=await s.json();alert(`Failed to submit review: ${e.error}`)}}catch(e){alert("Failed to submit review. Please try again."),console.error("Error submitting review:",e)}finally{m(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Review Application"}),(0,a.jsx)("button",{onClick:s,className:"text-slate-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("p",{className:"text-slate-300",children:["Reviewing application for: ",(0,a.jsx)("span",{className:"font-semibold text-white",children:e.captainName})]})}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Decision"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"approved",checked:"approved"===i,onChange:e=>n(e.target.value),className:"mr-2"}),(0,a.jsx)("span",{className:"text-green-400",children:"✅ Approve"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"rejected",checked:"rejected"===i,onChange:e=>n(e.target.value),className:"mr-2"}),(0,a.jsx)("span",{className:"text-red-400",children:"❌ Reject"})]})]})]}),"rejected"===i&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Cooldown Period (Days)"}),(0,a.jsx)("input",{type:"number",min:"1",max:"365",value:d,onChange:e=>o(parseInt(e.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Review Notes"}),(0,a.jsx)("textarea",{rows:4,value:r,onChange:e=>c(e.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white",placeholder:"Notes about this decision..."})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"flex-1 bg-slate-600 hover:bg-slate-700 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:x,className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-colors disabled:opacity-50 ${"approved"===i?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:x?"Processing...":`${"approved"===i?"Approve":"Reject"} Application`})]})]})]})})}},6749:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>e});var l=t(1909);let e=(await (0,l.createProxy)(String.raw`C:\Users\tijer\OneDrive\Documents\krakengaming\apps\frontend\src\app\admin\applications\page.tsx`)).default;a()}catch(e){a(e)}},1)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9769,869,3429],()=>t(89));module.exports=a})();